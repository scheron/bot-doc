<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4. Начало работы | Документация торговых роботов компании &quot;Викинг&quot;</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <link rel="icon" href="/bot-doc/favicon.ico">
    <meta name="description" content="Руководство пользователя, описание алгоритма и API">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/bot-doc/assets/css/0.styles.1bc2eb42.css" as="style"><link rel="preload" href="/bot-doc/assets/js/app.95e2cffb.js" as="script"><link rel="preload" href="/bot-doc/assets/js/2.78e0eb71.js" as="script"><link rel="preload" href="/bot-doc/assets/js/1.1350850d.js" as="script"><link rel="preload" href="/bot-doc/assets/js/11.fa90c2bd.js" as="script"><link rel="preload" href="/bot-doc/assets/js/21.7f568b35.js" as="script"><link rel="prefetch" href="/bot-doc/assets/js/10.e460e884.js"><link rel="prefetch" href="/bot-doc/assets/js/12.6c10cead.js"><link rel="prefetch" href="/bot-doc/assets/js/13.aa368e90.js"><link rel="prefetch" href="/bot-doc/assets/js/14.d8197df5.js"><link rel="prefetch" href="/bot-doc/assets/js/15.dff8d592.js"><link rel="prefetch" href="/bot-doc/assets/js/16.e3d4bcac.js"><link rel="prefetch" href="/bot-doc/assets/js/17.0f4cd835.js"><link rel="prefetch" href="/bot-doc/assets/js/18.de88b01a.js"><link rel="prefetch" href="/bot-doc/assets/js/19.494ffbf1.js"><link rel="prefetch" href="/bot-doc/assets/js/20.93a09c68.js"><link rel="prefetch" href="/bot-doc/assets/js/22.5d9553a1.js"><link rel="prefetch" href="/bot-doc/assets/js/23.2354ca82.js"><link rel="prefetch" href="/bot-doc/assets/js/24.cc592321.js"><link rel="prefetch" href="/bot-doc/assets/js/25.431a4c01.js"><link rel="prefetch" href="/bot-doc/assets/js/26.e46c4eb2.js"><link rel="prefetch" href="/bot-doc/assets/js/27.49c88f93.js"><link rel="prefetch" href="/bot-doc/assets/js/28.a7a30783.js"><link rel="prefetch" href="/bot-doc/assets/js/29.fb7194ea.js"><link rel="prefetch" href="/bot-doc/assets/js/3.22f84ccd.js"><link rel="prefetch" href="/bot-doc/assets/js/30.b7ce93ae.js"><link rel="prefetch" href="/bot-doc/assets/js/31.0ca21add.js"><link rel="prefetch" href="/bot-doc/assets/js/32.026f9a3d.js"><link rel="prefetch" href="/bot-doc/assets/js/33.57fcb805.js"><link rel="prefetch" href="/bot-doc/assets/js/34.3b048059.js"><link rel="prefetch" href="/bot-doc/assets/js/35.5e5ddd82.js"><link rel="prefetch" href="/bot-doc/assets/js/36.4038b2ba.js"><link rel="prefetch" href="/bot-doc/assets/js/4.05e2d957.js"><link rel="prefetch" href="/bot-doc/assets/js/5.8b885637.js"><link rel="prefetch" href="/bot-doc/assets/js/6.54e4293e.js"><link rel="prefetch" href="/bot-doc/assets/js/7.cad5c010.js"><link rel="prefetch" href="/bot-doc/assets/js/vendors~docsearch.d8b3a8c6.js">
    <link rel="stylesheet" href="/bot-doc/assets/css/0.styles.1bc2eb42.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bot-doc/" class="home-link router-link-active"><img src="/bot-doc/images/vkg_logo.svg" alt="Документация торговых роботов компании &quot;Викинг&quot;" class="logo"> <span class="site-name can-hide">Документация торговых роботов компании &quot;Викинг&quot;</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bot-doc/docs/introduction.html" class="nav-link">
  Документация
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bot-doc/docs/introduction.html" class="nav-link">
  Документация
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bot-doc/docs/change-history.html" class="sidebar-link">1. История изменений</a></li><li><a href="/bot-doc/docs/introduction.html" class="sidebar-link">2. О платформе</a></li><li><a href="/bot-doc/docs/interface.html" class="sidebar-link">3. Интерфейс сайта</a></li><li><a href="/bot-doc/docs/getting-started.html" aria-current="page" class="active sidebar-link">4. Начало работы</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-1-настроика-подключении" class="sidebar-link">4.1. Настройка подключений</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-2-горячие-клавиши" class="sidebar-link">4.2. Горячие клавиши</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-3-тelegram-бот" class="sidebar-link">4.3. Тelegram-бот</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-4-настроика-портфелеи" class="sidebar-link">4.4. Настройка портфелей</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-5-управление-портфелями" class="sidebar-link">4.5. Управление портфелями</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-6-графики" class="sidebar-link">4.6. Графики</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/getting-started.html#_4-7-двухфакторная-аутентификация" class="sidebar-link">4.7. Двухфакторная аутентификация</a></li></ul></li><li><a href="/bot-doc/docs/stable-work.html" class="sidebar-link">5. Обеспечение обратной связи</a></li><li><a href="/bot-doc/docs/creating-connection.html" class="sidebar-link">6. Добавление подключений</a></li><li><a href="/bot-doc/docs/params-description.html" class="sidebar-link">7. Описание параметров</a></li><li><a href="/bot-doc/docs/algorithm-comments.html" class="sidebar-link">8. Примечания к алгоритму</a></li><li><a href="/bot-doc/docs/order-error.html" class="sidebar-link">9. Ошибки выставления, снятия и изменения заявок</a></li><li><a href="/bot-doc/docs/c-api.html" class="sidebar-link">10. Формулы на языке программирования C++</a></li><li><a href="/bot-doc/docs/api.html" class="sidebar-link">11. WebSocket API</a></li><li><a href="/bot-doc/docs/comparison.html" class="sidebar-link">12. Сравнение C++ формул и WebSocket API</a></li><li><a href="/bot-doc/docs/faq.html" class="sidebar-link">13. Часто задаваемые вопросы</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_4-начало-работы" tabindex="-1"><a href="#_4-начало-работы" class="header-anchor">#</a> <div class="anchor-container"><span id="nachalo-raboti" class="anchor-target"></span> <a href="#nachalo-raboti" title="Копировать ссылку" class="anchor-link">#</a></div> 4. Начало работы</h1> <p>Процесс настройки робота несколько отличается для боевых роботов и роботов, доступных под <a href="/bot-doc/docs/introduction.html#roles">ролью</a> <code>Demo</code>. В демо-роботах настроены все необходимые маркет-дата подключения, а изменение состояния маркет-дата подключений (<code>Enabled</code>/<code>Disabled</code>) запрещено. Создание торговых подключений так же запрещено, так как такие роботы не предназначены для боевой торговли. При первичной настройке таких роботов главу <a href="/bot-doc/docs/getting-started.html#connection_properties">Настройка подключений</a> следует пропустить. Напротив, боевой робот, созданный для клиента, изначально не имеет транзакционных подключений и может не иметь активных необходимых маркет-дата подключений к биржам. Поэтому сначала необходимо настроить подключения для получения маркет-даты и добавить транзакционные подключения.</p> <h2 id="_4-1-настроика-подключении" tabindex="-1"><a href="#_4-1-настроика-подключении" class="header-anchor">#</a> <div class="anchor-container"><span id="connection_properties" class="anchor-target"></span><span id="nastroika-podklyuchenii" class="anchor-target"></span> <a href="#connection_properties" title="Копировать ссылку" class="anchor-link">#</a></div> 4.1. Настройка подключений</h2> <p>Для активации маркет-дата подключений необходимо выбрать виджет <code>Data Connections</code>, отметить галочками необходимые маркет-дата подключения, нажать иконку <img src="/bot-doc/assets/img/settings_black.d5b3bfbb.svg" width="16" height="16"> в верхней панели виджета, выбрать робота, для которого активируется подключение и выбрать действие <code>Enable</code>.</p> <p><img src="/bot-doc/assets/img/3.1_1_2.4d54a7ec.jpg" alt="Alt text"></p> <p>Для настройки торговых подключений необходимо выбрать виджет <code>Trade connections</code>, нажать иконку <img src="/bot-doc/assets/img/settings_black.d5b3bfbb.svg" width="16" height="16"> в верхней панели виджета, выбрать робота, для которого добавляется подключение и выбрать действие <code>Add</code>.</p> <p><img src="/bot-doc/assets/img/3.1_2_2.4a398582.jpg" alt="Alt text"></p> <p>В открывшемся окне необходимо заполнить поля параметров подключения.
После заполнения всех полей параметров подключения необходимо нажать <code>Add connection</code>.</p> <p>В столбце <code>Status</code> виджетов <code>Trade connections</code>, <code>Data connections</code> отображаются статусы &quot;потоков данных&quot; соответствующих подключений к биржам. Если все статусы зеленые, то торговое/маркет-дата подключение подключено к бирже, иначе не подключено.</p> <p><strong>Важно!</strong></p> <p>Если торговое подключение не подключено к бирже в торговое время в течении достаточно продолжительного интервала времени, техническая поддержка сообщает об этом клиенту. Если через 2 часа после того как клиент был проинформирован, подключение продолжает оставаться не подключенным к бирже, техническая поддержка оставляет за собой право перевести такое подключение в неактивное состояние. Это связано с тем, что некорректно настроенное подключение приводит к нежелательной и избыточной активности на бирже. В ответ на подобные действия биржа может заблокировать доступ для клиента.</p> <p>Торговое подключение, которое находится в неактивном состоянии можно редактировать. После того, как изменения будут применены, торговое подключение станет активным и все статусы должны стать зелеными.</p> <h2 id="_4-2-горячие-клавиши" tabindex="-1"><a href="#_4-2-горячие-клавиши" class="header-anchor">#</a> <div class="anchor-container"><span id="goryachie-klavishi" class="anchor-target"></span> <a href="#goryachie-klavishi" title="Копировать ссылку" class="anchor-link">#</a></div> 4.2. Горячие клавиши</h2> <p>На вызовы основных виджетов и операций в портфелях назначены горячие клавиши. Сочетания горячих клавиш показаны в меню виджетов и в меню <code>Actions</code>.
Полный список горячих клавиш доступен в пользовательском меню справа cверху в пункте Keyboad ShortCuts.</p> <h2 id="_4-3-тelegram-бот" tabindex="-1"><a href="#_4-3-тelegram-бот" class="header-anchor">#</a> <div class="anchor-container"><span id="telegram-bot" class="anchor-target"></span> <a href="#telegram-bot" title="Копировать ссылку" class="anchor-link">#</a></div> 4.3. Тelegram-бот</h2> <p>Для телеграм-оповещений используется телеграм-бот <a href="https://t.me/FKVikingBot" target="_blank" rel="noopener noreferrer">FKVikingBot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Для подключения телеграм-бота необходимо выполнить следующие действия:</p> <ul><li>добавить <a href="https://t.me/FKVikingBot" target="_blank" rel="noopener noreferrer">FKVikingBot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> в свой телеграм-акаунт, перейдя по ссылке и нажав кнопку &quot;START&quot; в диалоге общения с телеграм-ботом;</li> <li>скопировать или записать <code>TELEGRAM ID</code> присланный телеграм-ботом;</li> <li>открыть меню настроек под иконкой пользователя и указать там свой <code>TELEGRAM ID</code>.</li></ul> <p><img src="/bot-doc/assets/img/telegram.91bce84d.png" alt="Doc"></p> <h2 id="_4-4-настроика-портфелеи" tabindex="-1"><a href="#_4-4-настроика-портфелеи" class="header-anchor">#</a> <div class="anchor-container"><span id="portfolio_add" class="anchor-target"></span><span id="nastroika-portfelei" class="anchor-target"></span> <a href="#portfolio_add" title="Копировать ссылку" class="anchor-link">#</a></div> 4.4. Настройка портфелей</h2> <p>Для того, чтобы создать портфель, необходимо выбрать виджет <code>Portfolios table</code> и нажать <code>ADD</code></p> <p><img src="/bot-doc/assets/img/3.3_1_1.fa5398b6.jpg" alt="Doc"></p> <p>В открывшемся окне в выпадающем списке необходимо выбрать робота, в котором будет создан новый портфель, в поле <code>Portfolio name</code> написать имя портфеля (рекомендуется задавать говорящие имена, чтобы потом было проще ориентироваться при большом количестве портфелей, поменять имя портфеля потом будет нельзя) и нажать кнопку <code>Submit</code>.</p> <p><img src="/bot-doc/assets/img/3.3_1_2.f92d7a0f.jpg" alt="Doc"></p> <p>Для добавления биржевых инструментов необходимо в разделе <code>AVAILABLE SECURITIES</code> в выпадающем списке в поле <code>Exchange</code> выбрать биржу/рынок, нажать кнопку <code>Reload securuty list from exchanges</code>. Далее биржевой инструмент следует искать по его <code>SecKey</code> в одноименном поле. После того, как нужный инструмент найден, нажимаем иконку <img src="/bot-doc/assets/img/plus.77f72fe9.svg" width="16" height="16"></p> <p><img src="/bot-doc/assets/img/3.3_1_3.9e76480b.jpg" alt="Doc"></p> <p>После этого выбранный инструмент отобразится в разделе <code>PORTFOLIO SECURITIES</code></p> <p><img src="/bot-doc/assets/img/3.3_1_4.4ff52327.jpg" alt="Doc"></p> <p>Аналогичным образом в портфель добавляются остальные инструменты. После добавления всех инструментов в портфель необходимо нажать кнопку <code>Apply</code>.
После этого откроется окно с настройками портфеля. <a href="/bot-doc/docs/params-description.html#parametri-portfelya">Параметры портфеля</a> задаются на вкладке <code>Portfolio settings</code>, <a href="/bot-doc/docs/params-description.html#_5-3-parametri-instrumentov-portfelya">параметры инструментов портфеля</a> задаются на вкладке <code>Securities</code>. Подробное описание параметров можно прочитать нажав на иконку <img src="/bot-doc/assets/img/help.ca36d80e.svg" width="16" height="16">. Для параметров инструментов портфеля иконка <img src="/bot-doc/assets/img/help.ca36d80e.svg" width="16" height="16"> находится в выпадающем списке:</p> <p><img src="/bot-doc/assets/img/3.3_1_5.45dfacb1.jpg" alt="Doc"></p> <p>Перечеркнутый инструмент в портфеле означает, что дата экспирации бумаги наступит через 3 или менее суток (исключая неторговые дни). Если портфель содержит хотя бы один такой инструмент, то его имя (<code>Name</code>) тоже будет отображаться перечеркнутым.</p> <p>Для реальной (не виртуальной) торговли в поле <code>Client code</code> необходимо вместо значения <code>virtual</code> выбрать транзакционное подключение, которое создали ранее.</p> <p>Для каждого портфеля можно настроить расписание включения/выключения торговли, перейдя на вкладку <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a>.</p> <p>Гайд с подробным описанием настройки портфеля можно посмотреть, перейдя по ссылке <a href="https://instructions.fkviking.com/portfolio_creation_guide.pdf" target="_blank" rel="noopener noreferrer">Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_4-5-управление-портфелями" tabindex="-1"><a href="#_4-5-управление-портфелями" class="header-anchor">#</a> <div class="anchor-container"><span id="portfolio_actions" class="anchor-target"></span><span id="upravlenie-portfelyami" class="anchor-target"></span> <a href="#portfolio_actions" title="Копировать ссылку" class="anchor-link">#</a></div> 4.5. Управление портфелями</h2> <p>Команды управления портфелями находятся в выпадающем списке меню <code>ACTIONS</code> виджета <code>Portfolios table</code>:</p> <ul><li><p><strong>Start portfolios</strong> <div class="anchor-container"><span id="portfolio_actions.start_portfolios" class="anchor-target"></span> <a href="#portfolio_actions.start_portfolios" title="Копировать ссылку" class="anchor-link">#</a></div> – включает торговлю по выбранным портфелям, устанавливая флаги <a href="/bot-doc/docs/params-description.html#p.re_sell">re_sell</a> и <a href="/bot-doc/docs/params-description.html#p.re_buy">re_buy</a>. При настройке расписания торгов с помощью параметра <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a> включение торговли с помощью команды  <code>Start portfolios</code> не работает.</p></li> <li><p><strong>Stop portfolios</strong> <div class="anchor-container"><span id="portfolio_actions.stop_portfolios" class="anchor-target"></span> <a href="#portfolio_actions.stop_portfolios" title="Копировать ссылку" class="anchor-link">#</a></div> - выключает торговлю по выбранным портфелям, снимая флаги <a href="/bot-doc/docs/params-description.html#p.re_sell">re_sell</a> и <a href="/bot-doc/docs/params-description.html#p.re_buy">re_buy</a>. Заявки по первой ноге снимаются, заявки по второй ноге остаются висеть в рынке и переставляются в соответствии с настройками параметров <a href="/bot-doc/docs/params-description.html#s.sl">SL</a> и <a href="/bot-doc/docs/params-description.html#s.timer">Timer</a>. При настройке расписания торгов с помощью параметра <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a> выключение торговли с помощью команды <code>Stop portfolios</code> не работает.</p></li> <li><p><strong>Hard stop</strong> <div class="anchor-container"><span id="portfolio_actions.hard_stop" class="anchor-target"></span> <a href="#portfolio_actions.hard_stop" title="Копировать ссылку" class="anchor-link">#</a></div> - останавливает торговлю по выбранным портфелям (снимаются галочки <a href="/bot-doc/docs/params-description.html#p.re_sell">re_sell</a>, <a href="/bot-doc/docs/params-description.html#p.re_buy">re_buy</a>), пытается снять выставленные заявки по обеим ногам и отключает расписание (снимается флаг <code>Use timetable</code>). Это полная остановка торговли по выбранным портфелям, после которой не будет никаких выставлений или переставлений заявок ни по одному из инструментов портфелей.</p> <p><strong>Важно!</strong> Если в некоторых портфелях были добавлены формулы в которых используется программное управление флагами <a href="/bot-doc/docs/params-description.html#p.re_sell">re_sell</a> и <a href="/bot-doc/docs/params-description.html#p.re_buy">re_buy</a>, то торговля может продолжиться в соответствии с настроенными формулами.</p></li> <li><p><strong>Stop formulas</strong> <div class="anchor-container"><span id="portfolio_actions.stop_formulas" class="anchor-target"></span> <a href="#portfolio_actions.stop_formulas" title="Копировать ссылку" class="anchor-link">#</a></div> - останавливает торговлю по выбранным портфелям (снимаются галочки <a href="/bot-doc/docs/params-description.html#p.re_sell">re_sell</a>, <a href="/bot-doc/docs/params-description.html#p.re_buy">re_buy</a>), пытается снять выставленные заявки по обеим ногам и отключает расписание (снимается флаг <code>Use timetable</code>). Так же отключаются все расчёты по формулам, т.е. снимаются флаги портфеля <a href="/bot-doc/docs/params-description.html#p.custom_trade">Custom trade</a> и <a href="/bot-doc/docs/params-description.html#p.ext_formulas">Extra formulas</a>,  и для каждого из инструментов портфеля в полях <a href="/bot-doc/docs/params-description.html#s.count_type">Count type</a>  и <a href="/bot-doc/docs/params-description.html#s.ratio_type">Ratio type</a> устанавливается тип, соответствующий константному значению. Для дальнейшего использования формул включать их нужно самостоятельно.</p></li> <li><p><strong>Reset statuses</strong> <div class="anchor-container"><span id="portfolio_actions.reset_statuses" class="anchor-target"></span> <a href="#portfolio_actions.reset_statuses" title="Копировать ссылку" class="anchor-link">#</a></div> - сброс внутренних статусов всех заявок всех инструментов выбранных портфелей. Бывают ситуации, когда по какой-то причине биржа не присылает обновление информации по заявки или присылает в формате, не соответствующем документации биржи, а потому не поддерживаемом роботом. Например, робот выставил заявку, заявка выставилась, робот отправил запрос на снятие, биржа эту заявку сняла, но информацию о снятии не прислала. В таком случае реальный статус заявки на бирже и внутренний статус заявки в робте будут отличаться, а так как робот ожидает ответ на свой запрос, то заявка в роботе зависнет в статусе &quot;снимается&quot;.
Пользоваться этой кнопкой можно ТОЛЬКО В КРАЙНИХ СЛУЧАЯХ, когда торговля по портфелю отключена и Вы уверены что нет ни одной активной заявки по данному портфелю, в противном случае робот потеряет активные заявки, что приведет к неправильной позиции по бумагам в роботе.</p> <p><strong>Важно!</strong>  Обратите внимание, что в отличие от двойного клика по полям <a href="/bot-doc/docs/params-description.html#p.sell_status">Sell status</a> и <a href="/bot-doc/docs/params-description.html#p.buy_status">Buy status</a> в таблице виджета <code>Portfolios table</code> при использовании данной кнопки сбрасываются внутренние статусы всех заявок обеих ног портфеля.</p> <p><strong>Важно!</strong>  После использования этой кнопки необходимо убедиться, что нет никаких активных заявок на бирже и позиции на бирже соответствуют тем, что в роботе.</p></li> <li><p><strong>To market</strong> <div class="anchor-container"><span id="portfolio_actions.to_market" class="anchor-target"></span> <a href="#portfolio_actions.to_market" title="Копировать ссылку" class="anchor-link">#</a></div> - принудительное выравнивание позиций выбранных портфелей. Поведение полностью совпадает с использованием кликера <a href="/bot-doc/docs/params-description.html#p.to_market">To market</a> на выбранных портфелях.</p></li> <li><p><strong>To0</strong> <div class="anchor-container"><span id="portfolio_actions.to0" class="anchor-target"></span> <a href="#portfolio_actions.to0" title="Копировать ссылку" class="anchor-link">#</a></div> - ограничивает торговлю по выбранным портфелям, позволяя торговать только в сторону закрытия позиции. У выбранных портфелей устанавливаются флаги <a href="/bot-doc/docs/params-description.html#p.to0">To0</a>.</p></li> <li><p><strong>Group TradingDays</strong> <div class="anchor-container"><span id="portfolio_actions.trading_days" class="anchor-target"></span> <a href="#portfolio_actions.trading_days" title="Копировать ссылку" class="anchor-link">#</a></div> - позволяет задать торговые дни для выбранных портфелей. Поведение аналогично заданию торговых дней в настройках каждого портфеля на вкладке <a href="/bot-doc/docs/params-description.html#p.trading_days">Timetable</a> с той лишь разницей, что к каждому портфелю будут применены только внесенные изменения. Т.е. если у двух портфелей были разные списки торговых дней: у одного понедельник, вторник, пятница, а у другого понедельник, вторник, пятница, суббота, воскресенье, то если через данный виджет вы можете добавить в оба списка четверг, списки при этом равными не станут.</p> <p><strong>Важно!</strong>  Этот виджет изменяет только список торговых дней, интервалы, задающие время торговли, и сама галка <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a> изменены не будут.</p></li> <li><p><strong>Group Timetable</strong> <div class="anchor-container"><span id="portfolio_actions.timetable" class="anchor-target"></span> <a href="#portfolio_actions.timetable" title="Копировать ссылку" class="anchor-link">#</a></div> - позволяет задать торговые интервалы выбранных портфелей или скопировать торговые интервалы из существующего расписания какого-либо портфеля. Поведение аналогично заданию торговых интервалов в настройках каждого портфеля на вкладке <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a>, но дополнительно позволяет скопировать торговые интервалы из другого портфеля.</p> <p><img src="/bot-doc/assets/img/group_timetable.13c084e1.gif" alt="Doc"></p></li> <li><p><strong>Remove</strong> <div class="anchor-container"><span id="portfolio_actions.remove_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.remove_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div> - удаляет выбранные портфели.</p></li> <li><p><strong>Clone portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.clone_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.clone_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div> - клонирует выбранный портфель.</p> <p><strong>Важно!</strong>  При клонировании портфеля не клонируются значения, которые существуют только в виде переменных внутри кода формул, в том числе индикаторы и их состояние.</p></li> <li><p><strong>Disable portfolio \ Enable portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.disable_portfolio" class="anchor-target"></span><span id="portfolio_actions.enable_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.disable_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div>  - исключает выбранные портфели из расчётов или возвращает выбранные портфели обратно в обычный режим работы, снимая и устанавливая флаг <a href="/bot-doc/docs/params-description.html#p.disabled">Disabled</a>. Не стоит путать эту возможность с включением и выключением торговли по портфелю. Использование <code>Disable</code> позволяет исключить неиспользуемый в данный момент портфель из расчётов. По всем инструментам портфеля перестанут приходить цены и строиться стаканы (только если инструменты не используются в других портфелях). Редактирование параметров портфеля в статусе <code>Disable</code> невозможно. Будьте внимательны! Перед тем, как перевести портфель в режим <code>Disabled</code>, убедитесь, что торговля по портфелю выключена, заявки по инструментам портфеля не висят на бирже и не выставляются в данный момент, кроме того, проверьте, что поля портфеля и его инструменты не используются в формулах других портфелей. Также следует учитывать, что возвращение портфеля из состояния <code>Disabled</code> в рабочее состояние, может привести к переоткрытию торгового стакана.</p></li> <li><p><strong>Export portfolio \ Import portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.export_portfolio" class="anchor-target"></span><span id="portfolio_actions.import_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.export_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div>  - экспортировать выбранные портфели из робота на компьютер в виде .ini файла или импортировать портфели в робота.</p></li></ul> <h2 id="_4-6-графики" tabindex="-1"><a href="#_4-6-графики" class="header-anchor">#</a> <div class="anchor-container"><span id="grafiki" class="anchor-target"></span> <a href="#grafiki" title="Копировать ссылку" class="anchor-link">#</a></div> 4.6. Графики</h2> <p>Виджеты сделаны на базе графика TraidingView.
При нажатии по иконке <img src="/bot-doc/assets/img/chart-2.00698ea9.svg" width="16" height="16">  в столбце <code>Chart</code> виджета <a href="/bot-doc/docs/interface.html#portfolios_table">Portfolios table</a> будет открыт один из виджетов <a href="/bot-doc/docs/interface.html#portfolios_historical_chart">Portfolios historical chart</a> или <a href="/bot-doc/docs/interface.html#portfolios_realtime_chart">Portfolios realtime chart</a> в зависимости от того, ведется ли запись истории параметров портфеля.</p> <p><strong>Режим RealTime по портфелям без записи истории параметров</strong></p> <p>График открывается с предустановленными показателями параметров портфеля <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>, <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a>, <a href="/bot-doc/docs/params-description.html#p.lim_s">Lim_sell</a>, <a href="/bot-doc/docs/params-description.html#p.lim_b">Lim_buy</a>. Менять и добавлять другие показатели нельзя. Таймфрейм графика недоступен для изменения. Графики начинают отрисовываться с момента открытия виджета. При перезагрузке страницы данные графиков не сохраняются.</p> <p><strong>Режим Historical по портфелям cо включенной записью истории параметров</strong></p> <p>График открывается с предустановленными показателями параметров  портфеля <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>, <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a>, <a href="/bot-doc/docs/params-description.html#p.lim_s">Lim_sell</a>, <a href="/bot-doc/docs/params-description.html#p.lim_b">Lim_buy</a>. Данные параметры можно удалить или заменить. Запись истории регулируется пользователем через параметр <code>Save history</code> в расписании на закладке <a href="/bot-doc/docs/params-description.html#p.use_tt">Timetable</a> в настройках портфеля. График показывается за отображаемый период и исторические данные подгружаются при прокрутке вправо до момента начала сохранения истории. Для рынков МОЕХ следует придерживаться рыночного расписания, чтобы не было не информационных пробелов в истории. Существует лимит на количество портфелей, для которых доступно сохранение истории. По умолчанию лимит составляет 3 портфеля. Для получения консультации по увеличению лимита следует обратиться в техническую поддержку. График можно просматривать в разных таймфреймах, смена таймфрейма слева вверху. Выбранные показатели можно удалить с графика и добавить другие, доступные в выпадающем списке параметры любого портфеля пользователя. Добавление инструментов иконкой плюса слева вверху. Список можно посмотреть в поле <code>Field</code>.</p> <p><img src="/bot-doc/assets/img/3.5_1(1).b87cb3e1.jpg" alt="Doc"></p> <p>На графике всегда присутствует главный инструмент, который нельзя удалить, а можно только поменять через меню добавления инструмента на вкладке <code>Main</code>.
Для графиков доступна значительная часть инструментария TradingView.
Есть возможность добавить несколько портфелей, по которым ведётся запись истории, на один график. Максимальная продолжительность истории графика составляет 3 месяца. Далее она начинает плавно затираться, начиная с самых старых данных. Допускается одновременное открытие до 10-ти виджетов с графиками.</p> <p><img src="/bot-doc/assets/img/3.5_2.71393db5.jpg" alt="Doc"></p> <p>Настроенное оформление сохраняется, пока открыт виджет графика, а так же при перезагрузке страницы и переключении Workspaces.
Следует понимать, что данные для отрисовки графика это некий срез on-line данных по параметрам, по которым торгует робот. Данные поступают в среднем 3 раза в секунду, поэтому если за 0,3 секунды были разные значния, то на графике отобразится последнее.</p> <h2 id="_4-7-двухфакторная-аутентификация" tabindex="-1"><a href="#_4-7-двухфакторная-аутентификация" class="header-anchor">#</a> <div class="anchor-container"><span id="dvukhfaktornaya-autentifikatsiya" class="anchor-target"></span> <a href="#dvukhfaktornaya-autentifikatsiya" title="Копировать ссылку" class="anchor-link">#</a></div> 4.7. Двухфакторная аутентификация</h2> <p>Для повышения безопасности учетных записей пользователей на платформе реализована функция двухфакторной аутентификации (2FA). По умолчанию 2FA отключена.</p> <p><strong>Активация 2FA:</strong></p> <p><em><strong>Установка приложения:</strong></em> Установите на смартфон приложение-аутентификатор, поддерживающее протокол Time-based One-time Password (TOTP), например Google Authenticator, Authy или Microsoft Authenticator.</p> <p><img src="/bot-doc/assets/img/3.6_1.76a1db76.png" alt="Doc"></p> <p><em><strong>Настройка на платформе:</strong></em> Войдите в свой аккаунт, перейдите в меню пользователя, затем в раздел <code>Settings</code> и далее в <code>Security</code>. Нажмите кнопку <code>Enable 2FA</code>.</p> <p><img src="/bot-doc/assets/img/3.6_2.de534372.png" alt="Doc"></p> <p><em><strong>Сканирование QR-кода:</strong></em> С помощью установленного приложения отсканируйте QR-код, отображаемый на экране, и введите код подтверждения из приложения.</p> <p><img src="/bot-doc/assets/img/3.6_3.77c3ac0a.png" alt="Doc"></p> <p><strong>Особенности использования 2FA:</strong></p> <p>*<strong>Время на устройстве:</strong> Убедитесь, что время на вашем устройстве синхронизировано с точным временем, так как это критично для корректной работы TOTP.</p> <p><em><strong>Ограничение по устройствам:</strong></em> В разделе <code>Security</code> можно просмотреть список подтвержденных устройств. Одновременно может быть не более 20 таких устройств.</p> <p><img src="/bot-doc/assets/img/3.6_4.00b5953a.png" alt="Doc"></p> <p><em><strong>Отключение 2FA:</strong></em> Для деактивации 2FA нажмите кнопку <code>Disable 2FA</code> в разделе <code>Security</code>.</p> <p><img src="/bot-doc/assets/img/3.6_5.8cda052b.png" alt="Doc"></p> <p><strong>Дополнительная информация:</strong></p> <p><em><strong>Срок действия кода:</strong></em> На ввод 2FA-кода дается 120 секунд; по истечении этого времени соединение будет закрыто.</p> <p><em><strong>Периодичность подтверждения:</strong></em> Подтверждать 2FA необходимо каждые 14 дней.</p> <p><em><strong>Блокировка при ошибках:</strong></em> При вводе неправильного 2FA-кода 3 раза подряд ввод с данного устройства будет заблокирован на 10 минут.</p> <p><em><strong>Уникальность кода:</strong></em> Один и тот же 2FA-код нельзя использовать более одного раза подряд. Если код уже был использован, дождитесь генерации нового для следующей операции.</p> <p><em><strong>Подтверждение при активации:</strong></em> При включении 2FA секретный ключ действителен в течение 10 минут. Если за это время не подтвердить настройку, процесс необходимо будет повторить.</p> <p><em><strong>Завершение сессий:</strong></em> При активации 2FA все активные сессии пользователя будут завершены.</p> <p><em><strong>Выход из системы:</strong></em> Чтобы &quot;забыть&quot; 2FA для данного устройства, выполните выход из аккаунта (лог-аут).</p> <p><em><strong>Восстановление доступа:</strong></em> Если вы потеряли доступ к 2FA и не можете войти в аккаунт, обратитесь в техническую поддержку. После подтверждения личности 2FA будет сброшена, и вы сможете настроить ее заново.</p> <p><strong>Рекомендуется настроить двухфакторную аутентификацию для повышения безопасности вашего аккаунта</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bot-doc/docs/interface.html" class="prev">
        3. Интерфейс сайта
      </a></span> <span class="next"><a href="/bot-doc/docs/stable-work.html">
        5. Обеспечение обратной связи
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bot-doc/assets/js/app.95e2cffb.js" defer></script><script src="/bot-doc/assets/js/2.78e0eb71.js" defer></script><script src="/bot-doc/assets/js/1.1350850d.js" defer></script><script src="/bot-doc/assets/js/11.fa90c2bd.js" defer></script><script src="/bot-doc/assets/js/21.7f568b35.js" defer></script>
  </body>
</html>
