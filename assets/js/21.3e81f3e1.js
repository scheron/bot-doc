(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{329:function(e,t,i){},330:function(e,t,i){},369:function(e,t,i){"use strict";i(329)},370:function(e,t,i){"use strict";i(330)},378:function(e,t,i){"use strict";i.r(t);let o=null,n=null;var s={name:"Anchor",props:{ids:{type:Array,required:!0},hide:{type:Boolean,default:!1}},data:()=>({observer:null,isIntersecting:!1,scrollTimeout:null,observerTimeout:null,initialScrollDone:!1}),computed:{anchorRef(){return this.$refs.anchorRef?Array.isArray(this.$refs.anchorRef)?this.$refs.anchorRef[0]:this.$refs.anchorRef:null},anchorLink(){return this.ids&&this.ids.length?this.ids[0]:"#"},navbarHeight(){var e;return(null===(e=this.$root.$el.querySelector(".navbar"))||void 0===e?void 0:e.offsetHeight)||58}},methods:{formatHash:e=>(null==e?void 0:e.replace("#",""))||"",setupObserver(){this.cleanupObserver(),this.anchorRef&&(this.observer=new IntersectionObserver(this.handleIntersection,{threshold:.1,rootMargin:`-${this.navbarHeight}px 0px 0px 0px`}),this.observer.observe(this.anchorRef))},handleIntersection(e){this.isIntersecting=e[0].isIntersecting,this.isIntersecting||this.initialScrollDone||(this.openDetails(),this.scrollToElement(),this.initialScrollDone=!0),this.cleanupObserver()},cleanupObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)},openDetails(){if(!this.anchorRef)return;let e=this.anchorRef,t=!1;for(;e;){var i;"DETAILS"!==e.tagName||e.open?"DETAILS"!==(null===(i=e.parentElement)||void 0===i?void 0:i.tagName)||e.parentElement.open||(e.parentElement.open=!0,t=!0):(e.open=!0,t=!0),e=e.parentElement}t&&(clearTimeout(this.observerTimeout),this.observerTimeout=setTimeout(()=>{this.scrollToElement()},100))},scrollToElement(){this.anchorRef&&requestAnimationFrame(()=>{var e,t;null===(e=this.anchorRef)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e),setTimeout(()=>{var e,t;null===(e=this.anchorRef)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e)},300)})},copyAnchorLink(e){const t=`${window.location.origin}${window.location.pathname}#${encodeURIComponent(e)}`;this.scrollToElement(),navigator.clipboard.writeText(t).then(()=>this.showToastNotification()).catch(e=>{console.error("Не удалось скопировать ссылку:",e),this.showToastNotification("Не удалось скопировать ссылку")})},showToastNotification(e="Ссылка скопирована!"){this.cleanupToast(),n=document.createElement("div"),n.className="docs-toast",n.innerText=e,document.body.appendChild(n),o=setTimeout(()=>this.cleanupToast(),2e3)},cleanupToast(){o&&(clearTimeout(o),o=null),n&&n.parentNode&&(document.body.removeChild(n),n=null)},handleRouteChange(e=this.$route.hash){this.ids.includes(this.formatHash(e))&&(this.initialScrollDone=!1,this.openDetails(),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.setupObserver(),this.scrollToElement(),this.initialScrollDone=!0},200))}},watch:{$route(){this.handleRouteChange()}},mounted(){const e=this.$route.hash;setTimeout(()=>{if(window.location.hash){const e=this.formatHash(window.location.hash);this.ids.includes(e)&&(this.initialScrollDone=!1,this.openDetails(),this.setupObserver(),this.scrollToElement())}this.handleRouteChange(e)},500)},beforeDestroy(){clearTimeout(this.scrollTimeout),clearTimeout(this.observerTimeout),this.cleanupObserver(),this.cleanupToast()}},r=(i(369),i(370),i(28)),l=Object(r.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"anchor-container"},[e._l(e.ids,(function(e,i){return t("span",{key:i,ref:"anchorRef",refInFor:!0,staticClass:"anchor-target",attrs:{id:e}})})),e._v(" "),e.hide?e._e():t("a",{staticClass:"anchor-link",attrs:{href:"#"+e.anchorLink,title:"Копировать ссылку"},on:{click:function(t){return t.preventDefault(),e.copyAnchorLink(e.anchorLink)}}},[e._v("#")])],2)}),[],!1,null,null,null);t.default=l.exports}}]);